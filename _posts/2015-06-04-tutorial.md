---
title: "Tutorial"
bg: white  #defined in _config.yml, can use html color like '#0fbfcf'
color: black   #text color
fa-icon: glass
titleColor: sectionTitleColor
style: left
---

### Tutorial
The goal of this tutorial is to integrate Scenarioo in a minimal way to demonstrate its basics. To get started clone the repository from https://github.com/scenarioo/scenarioo-hello-world.git

This tutorial uses **Selenium** with Java and the **Scenarioo Selenium API**.

#### Setup the Scenarioo web app
1. If you haven't already, download a tomcat application server from http://tomcat.apache.org/.
2. Deploy the Scenarioo client application from xyz by copying the war file into the web apps folder.
3. Set the context parameter within the conf/context.xml of your tomcat to a writable directory (e.g. your user home).


#### Demo web app and Selenium tests
We are testing a static GitHub website available on XX. There are two tests for one use case with two different scenarios:
1. A page showing the entered user name
2. A page showing a static user name

Please checkout the branch **TODO**

    git clone https://github.com/scenarioo/scenarioo-hello-world.git
    git checkout TODO

Execute the tests first, either in your favorite IDE or using gradle

    ./gradlew test


#### Import example build
There's already a generated scenarioo build in the data folder. The structure is

    branch/branch.xml <-- contains information about your branch (name and description)
    branch/build/build.xml <-- contains information about your build (generation date, revision, ...)
    branch/build/usecase1/usecase.xml <-- contains name, description and generic information about your use case
    branch/build/usecase1/scenario1/scenario.xml <-- contains name, description and generic information about your use case
    branch/build/usecase1/scenario1/screenshots/*.png <-- contains a screenshot per steps
    branch/build/usecase1/scenario1/steps/*.xml <-- contains an xml per step specifying a variety of information

First we will tell Scenarioo where it can find the above data. Browse to your Scenarioo web app and open 'Manage' -> 'General Settings'. Insert an absolute path to the documentation data into the field 'Documentation Data Directory Path'. Next open the tab 'Builds' and press ' Import & Update Builds'. Now the specified build will appear.

You may now browse the imported use case and its scenarios.

#### Set up dependencies
If you look at the gradle build file, you will see an important dependency:

{% highlight groovy %}
dependencies {
    ...
    compile 'org.scenarioo:scenarioo-java:2.0.+'
}
{% endhighlight %}

The Scenarioo-Java API will help you to create the proper files. You could do this on your own but for the sake of simplicity we will use it in this example.

#### Writing branch and build information
Usually you would write your branch.xml and build.xml before your build starts on your CI environment. In this tutorial we will use our predefined branch and build in your projects data folder.

#### Writing use case and scenario information
In our example tests, each class is a use case and each test method is a scenario. Now we would like to write a JUnit rule which does exactly that: 

{% highlight java %}
package org.scenarioo.selenium;

import org.junit.rules.TestRule;
import org.junit.runner.Description;
import org.junit.runners.model.Statement;
import org.scenarioo.api.ScenarioDocuWriter;
import org.scenarioo.model.docu.entities.Scenario;
import org.scenarioo.model.docu.entities.UseCase;

public class ScenariooRule implements TestRule {

	private ScenarioDocuWriter writer;
	
	public ScenariooRule(ScenarioDocuWriter writer) {
		this.writer = writer;
	}
	
	@Override
	public Statement apply(final Statement base, final Description description) {
		return new Statement() {

			@Override
			public void evaluate() throws Throwable {
				saveUseCase(description);
				saveScenario(description);
				base.evaluate();
			}

			private void saveScenario(Description description) {
				Scenario scenario = new Scenario();
				scenario.setName(description.getMethodName());
				writer.saveScenario(getUseCaseName(description), scenario);
			}


			private void saveUseCase(Description description) {
				UseCase useCase = new UseCase();
				useCase.setName(getUseCaseName(description));
				writer.saveUseCase(useCase);
			}
			
			private String getUseCaseName(Description description) {
				return description.getTestClass().getSimpleName();
			}
		};
	}
}

{% endhighlight %}



